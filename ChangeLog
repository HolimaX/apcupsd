/***************************************************************************/
/*                     ChangeLog of apcupsd                                */
/*               Riccardo Facchetti <riccardo@master.oasi.gpa.it>          */
/*               http://www.apcupsd.com                                    */
/*               http://www.sibbald.com/apcupsd                            */
/*               ftp://ftp.apcupsd.com                                     */
/***************************************************************************/

----> Release apcupsd-3.10.2 (08 Nov 2002)
    - New cable design for BackUPS CS models to run it
      in Smart serial mode.
    - Corrected a major bug in the smart and net code where the
      status word was getting clobbered.

    Changes submitted this submission:
    - A few days ago, slither_man sent me an email with some 
      information on how to run a BackUPS CS in smart mode with
      a serial cable.  He found the information by assuming that
      the UPS supported Smart mode and through trial and error.
      Well, it works!!!!!!! Amazing!!!! Thanks slither_man.
    - Documentation for new CUSTOM-RJ54 cable that can be constructed
      from the end of an ethernet cable and a DB9F connector.

    - Changed all the MAIL instances in shell scripts into APCUPSD_MAIL.
      This helps keep separated the apcupsd specific shell variables from
      the generic $MAIL shell variable that points to the user's mailbox:

        riccardo@ao:~> echo $MAIL
        /var/spool/mail/riccardo
        riccardo@ao:~>

      An user reported that ./configure script transformed internal $MAIL
      executable program into her mailbox path. This may happen if the
      configure suite is broken (thing that I don't want to check further).
      That said, APCUPSD_MAIL now should always correctly point to the
      system default mail client program.
    - Made so that error_cleanup is a generic function called by the
      generic error handlers. Now if you want specific error_cleanup
      you don't need to write also specific error handlers, provided
      that error_cleanup don't accept parameters (i.e.
      specific_error_cleanup(void)) but if you want to have a specific
      error_cleanup with parameters you _must_ also write specific
      error_exit and error_out into which you will call the specific
      error_cleanup with parameters.
    - Made so that error_exit and error_out are generic handlers that
      can be assigned, if needed, to specific handlers by the main() of
      each program. If not, the Error* routines will use the generic
      versions in apclib.a.
    - Fixed wrong "true" usage in powerflute.
    - Cleaned up the terminate() functions.
    - Made DeviceVendor part of snmp DEVICE case insensitive.

----> Release apcupsd-3.10.1 (16 Sep 2002)
    - Fixed a filling error with USB status dword.
    - Fixed autoconf check and dependances of -lpanel,etc with -lncurses.
    - Made more portable the apccontrol external scripts when calling the
      mailer (subject is now in the echo lines instead of relying on the
      presence of a -s switch on the mailer).
    - Added gentoo platform.
    - Added DESTDIR variable for platform packaging.
    - Fixed a off-by-one problem in events table.
    - Conditional compilation of old and new network code. Old network code
      disabled by default while new network code enabled by default.
    - Removed old src/apcnet.c.old, old implementation of old networking.

----> Release apcupsd-3.10.0 (28 Jul 2002)
    - Added documentation for SNMP UPSes. Documented the use of
      --kill-on-powerfail switch during shutdown.
    - SuSE 8.0 is now supported.
    - Added forward declaration of inet_pton and localtime_r when they
      are extraobj.
    - Added inet_pton function. Implementation from Internet Software
      Consortium.
    - Made sp_flags private to the dumb driver.
    - Can't SET/CLEAR multiple flags: do them one by one. Fixed this
      bug in SNMP driver.
    - Added 127A and 128A cables support for dumb UPSes.
    - Implemented killpower for PowerNet MIB.
    - Implemented the SNMP driver for APC's PowerNet MIB.
    - Restructured UPSINFO so that now all the flags are contained
      into the Status bitmap.
    - *BSD should compile cleanly again.
    - Source tree is now under CVS revision control.
    - Added support for listening on specific IP addresses/subnets in
      NIS server, from Troy.
    - Doc updates, from Kern.

----> Release apcupsd-3.9.9 (18 May 2002)
    - Applied final Kern's patch.
    - Added a little program 'devicedbg' to help in debugging device
      drivers with gdb. To compile, 'make devicedbg' in src/.
    - Cygwin platform added (reorganized old cygwin files).
    - Darwin platform added.
    - compile line is 'gcc -c -g -O2   -I../include  apcaction.c'.
    - reviewed all the platform makefiles.
    - use system libgd, searching for include files in system include dirs.
    - in case system does not have libgd, uses provided libgd.
    - put gd1.2 into master's contrib directory and a message if gd1.2
      is not present into src/gd1.2 (like default distribution will not)
      is issued at configure time to get gd1.2 from contrib and extract it
      into the src/ directory. Re-run config and all will be good and happy.
    - Sources reorganization.
    - Mandrake platform added.

----> Release apcupsd-3.9.8 (27 January 2002)
    - New drivers layer adds new keywords to the UPSTYPE configuration
      variable (dumb, apcsmart, usb, snmp, net, and test). NOTE! only the
      first three are currently functional. All the old UPSTYPE keywords
      are translated into dumb or apcsmart for backward compatibility.   
      NOTE! snmp, net, and test drivers are experimental and thus
      largely non-functional.
    - Reorganized developers documentation inside an html manual
      (Riccardo).
    - Support SCO OpenServer.
    - Includes all enhancements to the officially released versions through
      3.8.5.
    - Make drivers block a reasonable amount of
      time (maximum 1 minute, minimum 1 second). Blocking is determined
      by the state and functions requested.
    - Many enhancements to the USB driver to support SmartUPSes (mostly).
    - New code by Kamal to handle and truncate the events file.
    - New smtp program to permit email messages from WinNT/Win2000 machines.
    - Updates to apcaccess.
    - New Dmsg() debug message code implemented.
    - Include apctest Runtime Calibration feature.


----> Release apcupsd-3.9.4 Aug 13 2001
    - Improvements in master/slave timeout detection and error messages.
    - New master connect/disconnect events (accontrol).
    - Additional master/slave documentation.
    - Document USB.
    - Updated manual to include ideas/suggestions received
      from users installing 3.8.2.
    - Fixed safe.apccontrol to be a bit more system independent
      (thanks to Steven Orr for the idea).
    - Added safe.apccontrol.in so that it is configured properly.
    - Added a big warning message to the end of the ./configure
      output if /usr/ucb is on your path.
    - Fixed reference to lock file in Solaris apcupsd.in so it is
      properly configured.
    - Removed unused variable from Solaris apcupsd.in
    - Added Makefile to examples directory
    - Modified main Makefile.in to do clean and distclean of examples
    - Additional documentation.
    - Removed the sleep 2d from the halt script.
    - Install apcupsd.conf with 644 permissions
    - Add --disable-install-distdir ./configure option.
      This allows easier installation of slaves or
      multiple copies of apcupsd.
    - Used makedepend if not gcc (Solaris fix).
    - Set SO_REUSEADDR in slave machines.
    - Add 940-0020C cable support (same as 20B).
    - UPSNAME now sets upsname if given. Otherwise,
      apcupsd attempts to get name from UPS, if not found,
      uses hostname, finally "default".
    - Implement CommLost NIS status.
    - Implement Shutdown NIS status.
    - Implement Slave NIS status.
    - Correct SmartTrim and SmartBoost detection code.
    - ./configure prints name of shutdown program.
    - Add port to hosts.conf.
    - Add new apccontrol arguments to script file.
    - Add UPSNAME to RedHat apccontrol.
    - Manual updates.
    - Eliminated all N/A fields in STATUS report.
    - Always construct STATFLAG in STATUS report.
    - Added generic symlink installation in distributions/
    - Cleanups of main Makefile.in
